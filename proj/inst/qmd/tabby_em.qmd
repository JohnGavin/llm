---
tabby:
  default-tab: python
params:
    source_url: "https://quarto.thecoatlessprofessor.com/tabby/"
title: "tabby emamples"
format: html
# hide code
echo: true
---

```{r setup, include=FALSE}
# Define a function that knitr will call for 'javascript' chunks
js_engine <- function(options) {
  # Get the code from the chunk
  code <- paste(options$code, collapse = "\n")

  # Wrap the code in HTML <script> tags
  # This is the crucial part: we're formatting it for the browser
  script_tag <- paste0("<script>\n", code, "\n</script>")

  # Use knitr::engine_output to integrate this into the document.
  # - 'options' passes chunk options along.
  # - 'code = options$code' ensures knitr handles echoing the *source* code
  #   based on the chunk's echo option (e.g., echo=TRUE/FALSE).
  # - 'out = script_tag' provides the *result* of the engine's processing,
  #   which is the HTML script tag to be included in the output document.
  knitr::engine_output(options, code = options$code, out = script_tag)
}

# Register this function as the engine for chunks labeled 'javascript'
knitr::knit_engines$set(javascript = js_engine)
```





# tabset
## wrap _code block_ in a _div_ with the _tabby class_

::: {.tabby}
```{r tidytuesdayR}
tuesdata <- tidytuesdayR::tt_load("2025-01-21")
exped_tidy <- tuesdata$exped_tidy
peaks_tidy <- tuesdata$peaks_tidy
```
```{ojs exped_tidy}
# pass data from R to Observable
ojs_define(r_data = plot_data)
```

```{python py_1}
print("Hello, Python World!")
```

```{javascript js_1}
console.log("Hello, JavaScript World!");
console.log("Hello, JavaScript World! (Processed by knitr engine)");

```

:::


## Individual Tabset - Use div attributes:

::: {.tabby default-tab="javascript"}
```{python py_2}
print("2 Hello, Python World!")
```

```{javascript js_2}
console.log("2 Hello, JavaScript World!");
// You can add things that clearly run in the browser:
alert("This alert comes from the knitr-processed JS block.");
document.addEventListener('DOMContentLoaded', () => {
  const body = document.querySelector('body');
  if (body) {
     const p = document.createElement('p');
     p.textContent = 'This text was added by the knitr-processed JavaScript block.';
     body.appendChild(p);
  }
});

```

```{r sfge}
print("2 Hello, R World!")

```

:::


::: {.tabby group="mygroup"}
```{python py_3}
def greet():
    print("Hello!")
```

```{r greet}
greet <- function() {
  cat("Hellowww!\n")
}
```

:::

Some text in between...

::: {.tabby group="mygroup"}
```{python py_4}
greet()
```

```{r asdf}
greet()
```

:::
